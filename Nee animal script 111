--// GUI Script with Password Timer (10 hours), Auto Train/Win Toggle, Draggable
-- StarterGui içine LocalScript olarak koy

local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "SecretGui"

-- Şifre sistemi
local password = "dev"
local startTime = tick() -- script çalıştığı an
local validDuration = 10 * 60 * 60 -- 10 saat (saniye)

-- Password Frame
local passwordFrame = Instance.new("Frame", screenGui)
passwordFrame.Size = UDim2.new(0, 220, 0, 140)
passwordFrame.Position = UDim2.new(0.5, -110, 0.5, -70)
passwordFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
passwordFrame.Active = true
passwordFrame.Draggable = true

local passwordBox = Instance.new("TextBox", passwordFrame)
passwordBox.Size = UDim2.new(0, 200, 0, 30)
passwordBox.Position = UDim2.new(0, 10, 0, 20)
passwordBox.PlaceholderText = "Enter Password"
passwordBox.Text = ""

local enterButton = Instance.new("TextButton", passwordFrame)
enterButton.Size = UDim2.new(0, 200, 0, 30)
enterButton.Position = UDim2.new(0, 10, 0, 80)
enterButton.Text = "Enter"

-- Main Frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 200, 0, 180)
mainFrame.Position = UDim2.new(0.5, -100, 0.5, -90)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.Visible = false
mainFrame.Active = true
mainFrame.Draggable = true

local trainButton = Instance.new("TextButton", mainFrame)
trainButton.Size = UDim2.new(0, 180, 0, 40)
trainButton.Position = UDim2.new(0, 10, 0, 20)
trainButton.Text = "Auto Train: OFF"

local winButton = Instance.new("TextButton", mainFrame)
winButton.Size = UDim2.new(0, 180, 0, 40)
winButton.Position = UDim2.new(0, 10, 0, 80)
winButton.Text = "Auto Win: OFF"

-- Discord Link
local discordLink = "https://discord.gg/dK26YxG3ue"

-- Password Check
enterButton.MouseButton1Click:Connect(function()
    local currentTime = tick()
    if currentTime - startTime <= validDuration then
        if passwordBox.Text == password then
            passwordFrame.Visible = false
            mainFrame.Visible = true
        else
            passwordBox.Text = "Wrong!"
        end
    else
        passwordBox.Text = "Expired!"
        setclipboard(discordLink) -- panoya link kopyala
    end
end)

-- Train / Win Functions
local runTrain = false
local runWin = false

task.spawn(function()
    while true do
        if runTrain then
            local args = {
                [1] = "WinGate_4",
                [2] = Vector3.new(1811.9639892578125, 780.9266357421875, -5386.14990234375)
            }
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.5.1")
                .knit.Services.FightService.RE.GetWinsEvent:FireServer(unpack(args))
        end
        task.wait(0.2) -- Train hız
    end
end)

task.spawn(function()
    while true do
        if runWin then
            local args = {
                [1] = "WinGate_4",
                [2] = Vector3.new(1811.9639892578125, 780.9266357421875, -5386.14990234375)
            }
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.5.1")
                .knit.Services.FightService.RE.GetWinsEvent:FireServer(unpack(args))
        end
        task.wait(0.1) -- Win daha hızlı
    end
end)

-- Button Toggles
trainButton.MouseButton1Click:Connect(function()
    runTrain = not runTrain
    trainButton.Text = runTrain and "Auto Train: ON" or "Auto Train: OFF"
end)

winButton.MouseButton1Click:Connect(function()
    runWin = not runWin
    winButton.Text = runWin and "Auto Win: ON" or "Auto Win: OFF"
end)
